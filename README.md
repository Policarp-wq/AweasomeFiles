# Проект: REST API для управления архивами файлов

## Описание

Данный проект предоставляет REST API для работы с файлами и архивами. Основные возможности:

1. Получение списка всех файлов.
2. Инициализация процесса архивирования коллекции файлов. Эндпоинт принимает список имен файлов и возвращает ID процесса. Архивирование выполняется асинхронно.
3. Проверка статуса процесса архивирования по ID.
4. Скачивание архива по ID процесса.

Для управления и хранения логов используется Seq. Также предоставляет dockerfile и docker-compose.yaml для удобного разворачивания сервисов. Написаны Unit тесты с помощью XUnit

## Эндпоинты

### 1. Получение списка всех файлов

**GET** `/zip/files`

Возвращает список всех доступных файлов.

#### Пример ответа:

```json
["file1.txt", "file2.txt", "file3.txt"]
```

### 2. Инициализация процесса архивирования

**POST** `/zip`

Принимает список имен файлов для архивирования и возвращает ID процесса.

#### Пример запроса:

```json
["file1.txt", "file2.txt"]
```

#### Пример ответа:

```text
01991b4a-b2e3-7865-acee-2e5d97a012d4
```

### 3. Проверка статуса процесса

**GET** `/zip/status?id={processId}`

Принимает ID процесса и возвращает его статус.

#### Возможные статусы:

- `Processing` — процесс архивирования выполняется.
- `Finished` — процесс завершен, архив готов.
- Not Found

#### Пример ответа:

```text
Processing
```

### 4. Скачивание архива

**GET** `/zip?id={processId}`

Принимает ID процесса и возвращает поток для скачивания архива.

## Инструкция по использованию

### Переменные окружения

Для работы приложения необходимо задать следующие переменные окружения:

- `ASP_ZIP_ROOT` - путь к директории, где хранятся файлы для архивирования.
- `ASP_SEQ_URL` - URL для Seq, для хранения логов и удобного обращения с ними
- `ASP_SEQ_API_KEY` - ключ для доступа к Seq (по умолчанию пустая строка)
- `ASPNETCORE_URLS` - URL-адрес, на котором будет доступно приложение (например, `http://localhost:5000`).

### Требования

- .NET >= 9.

### Запуск

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/Policarp-wq/AweasomeFiles.git
   ```
2. Перейдите в директорию клиента:
   ```bash
   cd AweasomeFiles/ZipManagerApi.Main
   ```
3. Настройте переменные окружения

4. Соберите и запустите проект:
   ```bash
   dotnet run
   ```
5. Приложение будет доступно по адресу, указанному в переменной `ASPNETCORE_URLS` (по умолчанию `http://localhost:5000`).
